!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var r,o,i,a=n(6),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){i=!1}function u(e){if(e){if(e!==r){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,n){return t!==n.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));r=e,c()}}else r!==s&&(r=s,c())}function l(){return i||(i=function(){r||u(s);for(var e,t=r.split(""),n=[],o=a.nextValue();t.length>0;)o=a.nextValue(),e=Math.floor(o*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return r||s},characters:function(e){return u(e),r},seed:function(e){a.seed(e),o!==e&&(c(),o=e)},lookup:function(e){return l()[e]},shuffled:l}},function(e,t,n){"use strict";n(13);var r=i(n(2)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("keydown",function(e){32===e.keyCode&&x.jump()}),console.log(r.default);var a=n(4);firebase.database();var s=document.querySelector(".finish-screen .score-board");function c(){s.innerHTML="",firebase.database().ref("high-scores").orderByChild("points").limitToLast(3).once("value").then(function(e){var t=0,n=[];e.forEach(function(e){n.push(e.val())}),n.reverse(),n.forEach(function(e){var n=e.name,r=e.points,o=document.createElement("li");o.innerHTML="<div>"+(t+1)+". "+n+"</div><div>"+r+"</div>",s.appendChild(o),t++})})}c();var u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),l=Math.max(document.documentElement.clientHeight,window.innerHeight||0),d=document.querySelector(".start-screen h2");(0,o.default)()&&(d.innerHTML=d.innerHTML+" <strong>Tap to jump, tilt to move</strong>"),Crafty.init(u,l,document.getElementById("game"));var f=document.querySelector("button"),h=document.querySelector(".finish-screen button.try-again"),m=document.querySelector(".start-screen");f.addEventListener("click",function(){Crafty.enterScene("Level1"),m.classList.add("hidden"),E()});var p=0,v=document.querySelector("span.counter"),g=document.querySelector("span.timer"),y=document.querySelector("span.timer > span.time-left");function b(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var w=[];window.DeviceMotionEvent&&(0,o.default)()&&window.addEventListener("devicemotion",function(e){return w.push(e.accelerationIncludingGravity.x)},!1);var x=void 0,M=30;Crafty.defineScene("Level1",function(){Crafty.e("Floor, 2D, Canvas, Solid, Color, Collision").attr({x:0,y:l,w:1600,h:10}).color("white"),x=Crafty.e("Player, 2D, Canvas, Color, Motion, Solid, Twoway, Gravity, Collision").attr({x:20,y:0,w:30,h:30}).color("white").twoway(200,400).gravity("Floor").checkHits("Floor").bind("EnterFrame",function(e){if((0,o.default)()){var t=w.reduce(function(e,t){return e+t})/w.length;this.x=-50*t+u/2;w.length>40&&w.splice(0,w.length-40)}}),window.addEventListener("touchstart",function(){return x.jump()})});var k=!1;var C=document.querySelector(".finish-screen button.submit"),S=document.querySelector(".finish-screen input");C.addEventListener("click",function(){var e,t,n;C.innerHTML="Sender score",(e=a.generate(),t=S.value,n=p,firebase.database().ref("high-scores/"+e).set({name:t,points:n})).then(function(){C.innerHTML="Score sendt üëç",C.disabled=!0,c()})});var L=59,T=60,q=void 0;function E(){g.classList.add("visible"),f.classList.add("hidden"),setTimeout(function(){k=!0,document.querySelector(".finish-screen").classList.add("visible"),document.querySelector(".finish-screen h2").innerHTML="Fedt, du fik <strong>"+p+" Sn√∏fler</strong> p√• <strong>1 minut!</strong>",h.addEventListener("click",H)},1e3*T),q=setInterval(function(){k||(L--,y.innerHTML=L)},1e3)}function H(){0,C.disabled=!1,C.innerHTML="Save score!",L=59,x.attr({x:20,y:0}),E(),document.querySelector(".finish-screen").classList.remove("visible"),p=0,v.innerHTML=p,k=!1,clearInterval(q)}var j=50/u,z=0;Crafty.bind("EnterFrame",function(){var e,t;z%parseInt(200*j)==0&&(e={width:24,height:24*2.3},t=Math.floor(Math.random()*u),Crafty.e("Drop, 2D, Canvas, Color, Solid, Gravity, Collision, Image").attr({x:t,y:0,w:e.width,h:e.height}).color("#"+Math.floor(16777215*Math.random()).toString(16)).image(r.default,"repeat").gravity().checkHits("Player").bind("HitOn",function(){this.destroy(),k||(p++,v.innerHTML=p),v.classList.add("highlight"),setTimeout(function(){v.classList.remove("highlight")},50)}).bind("EnterFrame",function(){this.y>l&&this.destroy()}),b(0,100)==b(0,100)&&function(){if(0===b(0,1)){var e=Math.floor(Math.random()*u);Crafty.e("Drop, 2D, Canvas, Color, Solid, Gravity, Collision, Text").attr({x:e,y:0}).text("x2").textFont({size:"20px",weight:"bold"}).gravity().checkHits("Player").bind("HitOn",function(){this.destroy(),clearTimeout(O),k||(x.w=2*M,O=setTimeout(function(){x.w=M},1e4))}).bind("EnterFrame",function(){this.y>l&&this.destroy()})}else{var t=Math.floor(Math.random()*u);Crafty.e("Drop, 2D, Canvas, Color, Gravity, Collision, Text").attr({x:t,y:0}).text("1/2").textFont({size:"20px",weight:"bold"}).gravity().checkHits("Player").bind("HitOn",function(){this.destroy(),clearTimeout(O),k||(x.w=M/2,O=setTimeout(function(){x.w=M},1e4))}).bind("EnterFrame",function(){this.y>l&&this.destroy()})}}()),z++});var O=void 0},function(e,t){e.exports="assets/snoeffel.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}},function(e,t,n){"use strict";e.exports=n(5)},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(11),a=n(12)||0;function s(){return o(a)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return r.seed(t),e.exports},e.exports.worker=function(t){return a=t,e.exports},e.exports.characters=function(e){return void 0!==e&&r.characters(e),r.shuffled()},e.exports.isValid=i},function(e,t,n){"use strict";var r=1;e.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(e){r=e}}},function(e,t,n){"use strict";var r,o,i=n(8),a=(n(0),1459707606518),s=6;e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-a));return n===o?r++:(r=0,o=n),t+=i(s),t+=i(e),r>0&&(t+=i(r)),t+=i(n)}},function(e,t,n){"use strict";var r=n(0),o=n(9),i=n(10);e.exports=function(e){for(var t,n=0,a="";!t;)a+=i(o,r.get(),1),t=e<Math.pow(16,n+1),n++;return a}},function(e,t,n){"use strict";var r,o="object"==typeof window&&(window.crypto||window.msCrypto);r=o&&o.getRandomValues?function(e){return o.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=r},function(e,t){e.exports=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=Math.ceil(1.6*r*n/t.length),i="";;)for(var a=e(o),s=0;s<o;s++){var c=a[s]&r;if(t[c]&&(i+=t[c]).length===n)return i}}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},function(e,t,n){"use strict";e.exports=0},function(e,t){}]);
//# sourceMappingURL=main.ed6f945563d1ea1cd8fe.js.map